
#checkout-process {
  .checkout() {

  }
}


// Payment method
.pt_singlepagecheckout_v2 .payment-form { &:extend(.pt_singlepagecheckout_v2 .delivery-form all); }
// Payment method heading
.pt_singlepagecheckout_v2 .payment-methods-heading { text-align: center; }
// Payment method form rows
.pt_singlepagecheckout_v2 .payment-method .form-row {
  position:relative; // needed for context as error msg uses top property
  margin-bottom:@checkout-form-row-margin-bottom; // override default row spacing
  }
// Payment method error validation msg
.pt_singlepagecheckout_v2 .payment-method span.error {
  left:0;
  margin-top:0;
  top:@checkout-form-error-alignBelowInput-top;
  white-space: nowrap;
}

.pt_singlepagecheckout_v2 .payment-method span[for="adyen_creditCard_month"],
.pt_singlepagecheckout_v2 .payment-method span[for="adyen_creditCard_year"] {
  #collections.form-variables();
  top:(@checkout-form-error-alignBelowInput-top - (@@labelFontSize*2));
}

// Payment method options
// Labels
.pt_singlepagecheckout_v2 .payment-method-options label {
  color:@cart-value-color-stronger;
  display: flex;
  white-space: nowrap;
}
// Visa
label[for="is-CREDIT_CARD"] > img {
  width:210*@rem;
  height:36*@rem;
  line-height:0;
  max-width:80%;
  // width and height defined for IE
}
// Paypal
label[for="is-PayPal"] > img {
  width:77*@rem;
  height: 20*@rem;
  margin-top:@6px;
  line-height:0;
  // width and height defined for IE
}

// Billing address
.pt_singlepagecheckout_v2 .payment-method-options,
.pt_singlepagecheckout_v2 .billing-address,
.pt_singlepagecheckout_v2 .generic-error {
  position: relative;
  max-width:(@payment-method-options-max-width*@rem) + 1; // use var
  margin-left:auto;
  margin-right:auto;
}
.pt_singlepagecheckout_v2 .payment-method-options { margin-bottom:@rowSpacing; }

// Select stored card
.pt_singlepagecheckout_v2 .payment-method-options .credit-card-list {
  margin-bottom:0;
  max-width:inherit!important;
  width:100%;
}
.pt_singlepagecheckout_v2 .payment-method-options .credit-card-list > div:first-child,
.pt_singlepagecheckout_v2 .billing-address-title { color:@cart-value-color-stronger; }
// Payment data form
.pt_singlepagecheckout_v2 .payment-method-options .credit-card-list + #payment-data-form { margin-top:@rowSpacing; }
// Name on card
// Card number
.pt_singlepagecheckout_v2 .payment-method .form-row:first-child,
.pt_singlepagecheckout_v2 .payment-method .credit-card-type + .form-row { max-width:@payment-method-input-full-width*@rem; }
// Name on card
.pt_singlepagecheckout_v2 .payment-method .credit-card-type + .form-row {
  display:inline-block;
  float:left;
  margin-right:@payment-method-input-gutter;
}
// Security code (cvn)
.pt_singlepagecheckout_v2 .payment-method .cvn {
  clear:none;
  max-width:@payment-method-input-cvn-max-width*@rem;
}
// Expiry
.pt_singlepagecheckout_v2 .payment-method .expire-date { clear:both; }
// Month
// Year
.pt_singlepagecheckout_v2 .payment-method .month,
.pt_singlepagecheckout_v2 .payment-method .year {
  @width:(@payment-method-input-full-width/2)*@rem;
  @gutter:@payment-method-input-gutter/2;
  max-width:~"calc(@{width} - @{gutter})";
  display:inline-block;
  margin-bottom:0;
}
// Month
.pt_singlepagecheckout_v2 .payment-method .month { margin-right: ~"calc(@{payment-method-input-gutter} - 4px)"; } // compensate for inline block white space
// Year
.pt_singlepagecheckout_v2 .payment-method .year { clear:none; }
// Save my card details
.pt_singlepagecheckout_v2 .payment-method .year ~ .label-inline.checkbox {
  float:none;
  margin-bottom:0;
}

// Use delivery for billing checkbox
.pt_singlepagecheckout_v2 .form-row.use-shipping-address { margin-top:0!important; }
.pt_singlepagecheckout_v2 .form-row.use-shipping-address label { color:@cart-value-color-stronger; }
// Expanded billing address
.pt_singlepagecheckout_v2 .billing-address .billing-address-title { margin:(@rowSpacing * 2) 0 @rowSpacing; }

// Make form rows 100%
.pt_singlepagecheckout_v2 .payment-method-body .form-row { width:100%; }

// Paypal
.pt_singlepagecheckout_v2 #paypal.payment-method-container .payment-method-body {
  text-align: center;
  padding-bottom:@rowSpacing;
}

// Gift card or voucher
.pt_singlepagecheckout_v2 .promo-code > div { flex-direction: column; }
.pt_singlepagecheckout_v2 .promo-code .gift-card-section,
.pt_singlepagecheckout_v2 .promo-code .cart-coupon-code {
  display:flex;
  // &:extend(.u-flex-column, .u-items-center);
  flex-direction: column;
  align-items:center;
}

.pt_singlepagecheckout_v2 .cart-coupon-code .discount-link { 
  // &:extend(.u-self-center); 
  align-self:center;
}

.pt_singlepagecheckout_v2 .gift-card .form-row[data-required-text*="PIN"] {
  display:inline-block;
  float:left;
  @verticalMarginSmall: @rowSpacing / 2;
  width:~"calc(50% - @{verticalMarginSmall})";
}
.pt_singlepagecheckout_v2 .gift-button {
  display:inline-block;
  @verticalMarginSmall: @rowSpacing / 2;
  width:~"calc(50% - @{verticalMarginSmall})";
  float:right;
}
.pt_singlepagecheckout_v2 .gift-button .button-text {
  // &:extend([class*="o-btn"].o-btn--basic all);
  width:100%;
}



// Order summary
.pt_singlepagecheckout_v2 .order-summary { &:extend(.pt_cart_v2 #cart-container); } // get font styles
.pt_singlepagecheckout_v2 .order-summary .item-wrapper {
  &:extend(.pt_cart_v2 #cart-container .cart-row,
    #cart-container .cart-row,
    .cart-row, .pt_cart_v2 .cart-row);
  position: relative;
}
.pt_singlepagecheckout_v2 .order-summary .item-wrapper:first-of-type { border-top:1px solid @borderColor; }
.pt_singlepagecheckout_v2 .order-summary .item-wrapper > div {
  &:extend(#cart-container [class^="item"],
  #cart-container .cart-row > div);
}
// Use greater specifity to make align top
// Item image column
.pt_singlepagecheckout_v2 .order-summary .item-wrapper > .item-image { &:extend(.pt_cart_v2 #cart-container .item-image); }
// Item image
.order-summary .item-image img { &:extend(.pt_cart_v2 #cart-container .item-image img, #cart-container .item-image img); }
// Item details column
.pt_singlepagecheckout_v2 .order-summary .item-wrapper .item-details {
  // &:extend(.pt_cart_v2 #cart-container .item-details);
  max-width:~"calc(100% - "(@cart-item-image-column-width*2)*@rem~")";
  padding-top:@cart-item-details-padding-top;
}
// Item name
.pt_singlepagecheckout_v2 .order-summary .name { &:extend(.pt_cart_v2 #cart-container .name, #cart-container .name); }
.pt_singlepagecheckout_v2 .order-summary .name > a { &:extend(.pt_cart_v2 #cart-container .name > a); }
// Item attributes
.pt_singlepagecheckout_v2 .item-details .product-list-item .size:before {
  content:'/';
  display:inline-block;
}

// Item total column
.pt_singlepagecheckout_v2 .order-summary .item-wrapper > .item-total {
  &:extend(.pt_singlepagecheckout_v2 .order-summary .item-wrapper > .item-image, .pt_cart_v2 #price-standard-show);
  text-align: right;
  padding-top:@cart-item-details-padding-top;
}
// In stock text
.pt_singlepagecheckout_v2 .order-summary .item-quantity-details {
  &:extend(.pt_cart_v2 .item-quantity-details);
  font-size:@tiny;
  position:relative;
  text-align: left;
  float:none;
}
// Use delivery for billing checkbox container
.pt_singlepagecheckout_v2 .billing-address > .checkout-billing { width:100%!important; }
// Order subtotal label
// Order shipping label
.pt_singlepagecheckout_v2 .order-summary .label { &:extend(.pt_cart_v2 .order-totals-table .order-subtotal .label, .pt_cart_v2 .order-totals-table .label); }

// Order shipping label
.order-shipping .cart-shipping-methods > .label {
  max-width:70%;
  display:inline-block;
}

// .pt_singlepagecheckout_v2 .order-summary .item-wrapper > .item-total,
// .pt_singlepagecheckout_v2 .order-summary .order-subtotal .value,
// .pt_singlepagecheckout_v2 .order-summary .order-total .value,
// .pt_singlepagecheckout_v2 .order-summary .shipping-price,
// .pt_singlepagecheckout_v2 .order-summary .order-subtotal,
// .pt_singlepagecheckout_v2 .order-shipping-discount .value {
//   &:extend(.pt_cart_v2 #cart-container .product-price);
// }
.pt_singlepagecheckout_v2 .order-summary .item-wrapper > .item-total,
.pt_singlepagecheckout_v2 .order-summary .order-subtotal { float:none; }

.pt_singlepagecheckout_v2 .order-summary .order-subtotal .value { &:extend(.pt_cart_v2 .cart-footer .value); }
.pt_singlepagecheckout_v2 .order-summary .shipping-price,
.pt_singlepagecheckout_v2 .order-shipping-discount .value { &:extend(.pt_cart_v2 .cart-shipping-methods .shipping-price, .pt_cart_v2 .shipping-price); }


// Order total - custom styles - do I need to move this to cart page and extend. See if the same.
.pt_singlepagecheckout_v2 .order-summary .order-total {
  border-bottom-width:0;
  border-color:@borderColor;
  padding:@rowSpacing 0 (@rowSpacing * 2) 0;
}
.pt_singlepagecheckout_v2 .order-summary .order-total .label,
.pt_singlepagecheckout_v2 .order-summary .order-total .value {
  text-transform: uppercase;
  color: @cart-value-color-stronger;
}
.pt_singlepagecheckout_v2 .order-summary .order-total .value { &:extend(.pt_cart_v2 .cart-footer .value, .pt_cart_v2 .order-totals-table .order-total > .value); }

// GDPR - newsletter panel

.pt_singlepagecheckout_v2 .newsletter-wrapper:not(.grey_box) {
  background: #EEE;  
  padding:@rowSpacing (@rowSpacing / 2);
  margin-bottom:0;
}

.pt_singlepagecheckout_v2 .newsletter-wrapper p:first-child { 
  // &:extend(.o-header, .o-header--h5); 
  margin-top:0;  
  margin-bottom:1rem;
}

.newsletter-wrapper .message-container {
  font-size:@tiny;
}

.newsletter-wrapper .message-container a {
  // &:extend(.o-link all);
}

.pt_singlepagecheckout_v2 .newsletter-wrapper p ~ * { margin-top:0; }
.pt_singlepagecheckout_v2 .newsletter-wrapper .subscription-message {
  padding-top: @rowSpacing / 4;
  padding-bottom:@rowSpacing;
}
.pt_singlepagecheckout_v2 .newsletter-wrapper .subscription-message label:not(:last-child) { margin-right:@spacing; }
.pt_singlepagecheckout_v2 .newsletter-wrapper div:last-child { margin-bottom:0; }



@media (min-width:@largeMobileBreakpoint) {

  .pt_singlepagecheckout_v2 .promo-code > div { flex-direction: row; }

  // GDPR - newsletter panel

  .pt_singlepagecheckout_v2 .newsletter-wrapper:not(.grey_box) {
    padding:@rowSpacing;
  }  

}
