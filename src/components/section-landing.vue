<template>
  <div ref="section-landing" class="section-landing">
    <header class="c-header-group">
      <CustomHeader bg center aligned>Jack Wills</CustomHeader>
    </header>
    <section>
      <div class="c-landing-logo" ref="logo" @mousemove="mouseEvent" @mouseleave="resetLogo">
        <transition 
          name="get-shot"
          enter-active-class="shot"
        >
        <svg id="myAccountNav" viewBox="0 0 44 44" width="100%" height="100%" @click="shoot">
        <g id="MY_ACCOUNT_Navy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Group" transform="translate(14.000000, 6.000000)" fill="currentColor">
        <path d="M8.90251163,12.1175275 C8.74213953,12.5160663 8.51813953,12.8290292 8.2772093,13.3146484 C8.13004651,13.6112486 7.97469767,13.9185692 7.78772093,14.1988064 C7.78772093,14.1988064 7.7784186,14.2052011 7.76037209,14.2151693 C7.53060465,14.3475767 5.57618605,14.9627821 4.2295814,12.4064164 C4.20372093,12.3511212 4.15106977,12.242976 4.09227907,12.121101 C4.47534884,11.5689019 4.90660465,10.988491 4.67702326,10.644307 C4.51665116,10.6960286 4.43813953,10.8624783 4.27088372,10.8453631 C4.12595349,10.8305049 3.95925581,10.6542752 3.80018605,10.6153429 C3.69804651,10.5905165 3.58865116,10.5835576 3.47534884,10.5848741 C3.47534884,10.5848741 3.44725581,10.5395472 3.43888372,10.5239366 C3.40186047,10.4581091 3.32613953,10.3018157 3.31144186,10.2485894 C3.296,10.1955512 3.2904186,10.1361183 3.28837209,10.0815755 C3.28762791,10.0631438 3.28688372,10.0454644 3.28632558,10.0285373 C3.28632558,10.0114222 3.28632558,9.99581163 3.2855814,9.98170573 C3.28483721,9.79343895 3.3304186,9.61495226 3.39888372,9.43947483 C3.41302326,9.40543258 3.4292093,9.36800492 3.44651163,9.32982494 C3.45506977,9.3098886 3.48018605,9.27302517 3.5095814,9.22638166 C3.55516279,9.15415943 4.25823256,8.49005353 4.58102326,8.32379196 C4.97953488,8.1176577 5.90325581,7.9718967 6.3464186,8.03076534 C6.69934884,8.07740885 7.26102326,8.31608073 7.68893023,8.51130642 C8.00744186,8.6572555 8.19311628,9.0714048 8.37227907,9.36932147 C8.50753488,9.59388744 8.67627907,9.82240307 8.83460465,9.89330874 C9.06362791,9.9952474 9.7575814,9.98321036 9.82065116,10.0595703 C9.88297674,10.135366 9.55013953,10.6337746 9.43051163,10.8071832 C9.32334884,10.9608435 9.11962791,11.2403284 9.08111628,11.471101 C9.03981395,11.7238788 8.97748837,11.930013 8.90251163,12.1175275 M15.4809302,22.5826027 C15.2494884,22.263057 15.1151628,21.8274667 14.8783256,21.3600911 C14.5250233,20.6613788 14.1516279,20.0066768 13.9293023,19.2470269 C13.8937674,19.1259042 13.5300465,17.3810981 13.5066047,17.2567781 C13.5013953,17.2311994 13.4954419,17.18023 13.492093,17.1546513 C13.4829767,17.0912688 13.4742326,17.0397352 13.4507907,16.903002 C13.3853023,16.5255281 13.3157209,16.1493707 13.2273488,15.7769748 C13.0716279,15.1213325 12.9376744,14.5110171 12.7032558,13.8721137 C12.6861395,13.8245298 12.6677209,13.7761936 12.6487442,13.7274812 C12.3890233,13.055476 12.1512558,12.3783927 11.8405581,11.7300854 C11.6755349,11.385149 11.4757209,11.0877966 11.2567442,10.7787833 C11.168186,10.6552156 11.0333023,10.5598597 10.9854884,10.4135344 C10.9562791,10.3234447 10.9573953,10.1487196 11.0487442,10.1058377 C12.0167442,9.64880642 10.7540465,9.23860677 10.4329302,9.04695457 C10.135814,8.8692202 6.05748837,7.03695747 5.51293023,7.20716869 C5.29116279,7.27619358 3.13339535,8.24611545 2.71162791,9.40016638 C2.58474419,9.47445747 2.47032558,9.54874855 2.3812093,9.61683304 C1.84409302,10.03023 1.16613953,10.4071398 0.786418605,10.9862341 C0.553674419,11.3411386 0.135069767,11.7517144 0,12.4109303 C0.433116279,12.0740813 1.20018605,12.1261791 1.70455814,11.9770327 C1.99981395,11.8880715 2.33655814,12.0674986 2.64781395,12.101917 C2.99832558,12.140285 3.52688372,13.0142867 3.61469767,12.9723452 C4.02604651,13.4167752 4.87125581,14.0876519 5.04986047,14.1956091 C5.07516279,14.2106554 5.09860465,14.2287109 5.12111628,14.247895 C5.29562791,14.3977937 5.42846512,14.4807364 5.59665116,14.9917462 C5.59665116,14.9917462 5.44967442,15.7978516 5.28818605,16.2042896 C5.20948837,16.3816479 5.12967442,16.5569372 5.05562791,16.7265842 C4.89525581,17.0912688 4.72762791,17.4512514 4.55981395,17.8131149 C4.46790698,18.0089048 4.37767442,18.2046947 4.28688372,18.4008608 C3.9812093,19.0659071 3.6452093,19.830259 3.528,20.3373192 C2.9304186,22.9194517 2.53823256,29.1063006 3.00111628,30.930476 C3.0104186,30.9660229 3.06437209,31.07398 3.06437209,31.07398 C3.06437209,31.07398 3.44353488,30.8900391 3.59627907,30.7924262 C4.82474419,30.0047526 6.01488372,29.0812862 7.10604651,28.1057219 C7.97469767,27.329333 8.82716279,26.5482422 9.77562791,25.8946687 C10.1605581,25.6281612 10.5627907,25.3836589 10.9867907,25.1698134 C11.4779535,24.9219256 11.9927442,24.6362341 12.5097674,24.4481554 C12.9629767,24.2837746 13.4554419,24.2557509 13.9086512,24.0844112 C14.3026977,23.9369575 14.7099535,23.7731409 15.120186,23.682487 C15.367814,23.6260634 15.6866977,23.5942781 15.8476279,23.367079 C15.8476279,23.367079 15.608,22.7573278 15.4809302,22.5826027" id="Fill-1"></path>
        <path d="M10.1827828,0.412003632 C7.85197418,-0.0789441385 6.33751454,-0.010281402 5.92324531,0.0243260899 C5.51559324,0.0296644796 5.55529622,0.579702701 5.55529622,0.579702701 C5.61990063,1.36058026 5.00676824,4.18974272 4.57142857,6.45469261 C4.77830198,6.47530984 5.92324531,6.51851852 7.57144718,7.11111111 C9.21964904,7.7037037 11.6503352,8.66412427 12,8.88888889 C12.5716881,6.99836261 13.5819149,4.58736071 14.4633907,2.70419772 C14.4633907,2.70419772 14.736784,2.26865875 14.4137619,2.0192271 C14.0943968,1.7817608 12.4761521,0.930931927 10.1827828,0.412003632 Z" id="Fill-4"></path>
        <path d="M13.1201968,11 C13.7754875,11 13.9439192,10.7157895 13.9866984,10.5473684 C14.0246448,10.3995789 13.9802547,10.248 13.8667736,10.1273684 C13.7396891,9.99368421 13.5367118,9.91389474 13.322637,9.91389474 C13.2657175,9.91389474 13.208261,9.91957895 13.1516994,9.93052632 L13.1300413,9.93452632 L13.1049824,9.93642105 C13.0822504,9.93831579 12.9834467,9.94568421 12.8771252,9.94568421 C12.7998006,9.94568421 12.6533849,9.94126316 12.5361449,9.91115789 C12.3601955,9.86505263 12.0403363,9.76610526 11.8352112,9.61494737 L11.7575285,9.55726316 L11.6587248,9.49452632 C11.5008536,9.39431579 11.3189974,9.28821053 11.0843386,9.15178947 C10.5496886,8.84147368 10.1120525,8.61031579 9.8194001,8.48357895 C7.00993725,7.24 5.35014182,7.00021053 4.76662698,6.95452632 C4.64723913,6.94526316 4.56096485,6.94210526 4.51371089,6.94210526 L4.50171841,6.94210526 C4.48167127,6.94210526 4.4555384,6.94252632 4.42564669,6.94568421 L4.37785575,6.95052632 L4.3302438,6.94421053 C4.30464791,6.94084211 4.25291914,6.93136842 4.14928261,6.90315789 L4.10220764,6.88884211 C3.94200954,6.83873684 3.77572571,6.78210526 3.61463266,6.696 C3.45228666,6.60378947 3.2681036,6.39978947 3.20366638,6.31031579 C3.07282302,6.11663158 2.83834314,6 2.58524805,6 C2.40446585,6 2.23675008,6.06526316 2.12595386,6.17873684 L2.10536974,6.20126316 C2.00871391,6.31915789 1.82685775,6.66631579 2.40339189,7.14821053 L2.42290205,7.16463158 L2.43865337,7.18294737 C2.61836162,7.39389474 2.90385431,7.56463158 3.02610604,7.63726316 L3.06781124,7.66252632 C3.28009609,7.79957895 3.51958776,7.90294737 3.77805261,7.97010526 C3.9940963,8.03094737 4.36765319,8.04610526 4.80081451,8.06463158 C8.3622836,9.29438596 10.230426,9.97361404 10.4052418,10.1023158 C10.4784497,10.1553684 10.5478987,10.2063158 10.6322041,10.2583158 C11.0533729,10.5185263 11.2814091,10.6115789 11.2907167,10.6151579 L11.4373113,10.664 C11.6853946,10.7446316 11.9417116,10.8288421 12.2200446,10.8856842 C12.5703325,10.9618947 12.8715765,11 13.1201968,11" id="Fill-6"></path>
        <path d="M6.97171562,10.3480492 C7.06645108,10.5429272 6.90421182,10.7752282 6.76325927,10.8747573 C6.61885482,10.9774714 6.40445353,11.0419662 6.2261054,10.9683147 C6.03145664,10.8876961 5.9649117,10.6904294 6.01707373,10.4999306 C6.06098956,10.3374991 6.14460223,10.1905941 6.28114402,10.0996244 C6.37127694,10.040106 6.48729911,9.98735559 6.60102001,10.0026831 C6.65203141,10.009252 6.70764534,10.0315465 6.75443775,10.0560307 C6.8154213,10.0872828 6.85569346,10.1231133 6.90056815,10.2047272 L6.97171562,10.3480492 Z" id="Fill-8"></path>
        </g>
        </g>
        </svg>        
        </transition>
      </div>
      <CustomHeader msv center aligned>Pattern Library</CustomHeader>      
    </section>
  </div>
</template>

<script>


import CustomHeader from './heading'
import { editBus } from "../main";

  export default {
    name: 'sectionLanding',
    components: {
      CustomHeader
    },
    data() {
      return {
        logo: {},
      }
    },
    methods: {
      shoot() {
        const delay = time => new Promise(resolve => setTimeout(resolve, time))
        delay(0).then(() => {          
          this.logo.svg.classList.add('shot')
        })
        delay(600).then(() => {
          this.$refs['section-landing'].style.opacity = 0
        })
        delay(800).then(() => {          
          editBus.$emit('enterSite')        
        })
        

      },
      resetLogo() {
        this.logo.svg.style.transform = `translateX(0px) translateY(0px) scale(1)`  
      },
      mouseEvent(e) {
        let { offsetX: x, offsetY: y } = e
        const logo = this.logo.el,
              { offsetWidth: width, offsetHeight: height } = logo,
              logoSvg = this.logo.svg,
              walk = 100; // 100px
            
        const xWalk = Math.round((x / width * walk) - (walk / 2))
        const yWalk = Math.round((y / height * walk) - (walk / 2))

        if((xWalk < 20) && (yWalk < 20)) {
          if((xWalk < 10) && (yWalk < 10)) {
            logoSvg.style.transform = `translateX(${xWalk}px) translateY(${yWalk}px) scale(1.5)`  
            logoSvg.style.cursor = 'crosshair'
          } else {
            logoSvg.style.transform = `translateX(${xWalk}px) translateY(${yWalk}px) scale(1.2)`  
            logoSvg.style.cursor = 'default'
          }          
        } else {
          logoSvg.style.transform = `translateX(${xWalk}px) translateY(${yWalk}px) scale(1)`
          logoSvg.style.cursor = 'default'
        }
      }
    },
    mounted() {
      this.logo.el = this.$refs.logo
      this.logo.svg = this.logo.el.children[0]
    }
  }
</script>

<style lang="less" scoped>

.section-landing {
  transition: opacity 150ms ease-in-out;
}

section {
  display: flex;
  justify-content: center;  
  min-height: ~"calc(100vh - 133px)";
  align-items: center;
  flex-direction: column;  
  > h3 {
    margin-top:3.5rem;
  }
}

.c-landing-logo {
  width: 100%;
  max-width: 400px;  
  background:#101A31;
  // border-radius:50%;
  background:radial-gradient(farthest-side at 0 0, rgba(16, 26, 50, 1), rgba(16, 26, 50, 0)),  radial-gradient(farthest-side at 50% 0, rgba(31, 42, 68, 0.8), rgba(31, 42, 68, 0)), radial-gradient(farthest-side at 100% 0, rgba(240, 158, 182, 0.6), rgba(240, 158, 182, 0));  
  color:#fff;
  svg {
    transition:all 650ms cubic-bezier(0.075, 0.82, 0.165, 1);    
  }
}

.shot {
  animation: shot 600ms linear 20ms 1 forwards;
}

@keyframes shot {
  0% {
    transform: rotateY(0);
  } 
  40% {
    transform: rotateY(720deg);
  }  
  60% {
    transform: rotateY(0deg);
  }
  100% {
    transform: scale(20);
  }
}

</style>
